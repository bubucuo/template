// 暂存数据
// 低代码
// "{\"style\":{\"width\":750,\"height\":6800,\"backgroundColor\":\"rgba(239,154,154,1)\",\"backgroundImage\":\"\",\"backgroundPosition\":\"center\",\"backgroundSize\":\"cover\",\"backgroundRepeat\":\"no-repeat\",\"boxSizing\":\"content-box\"},\"cmps\":[{\"value\":\"https://www.bubucuo.cn/gaoshaoyun-lowcode.webp\",\"style\":{\"position\":\"absolute\",\"top\":3933,\"left\":571,\"width\":190,\"height\":301,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.4259412008629684},{\"value\":\"https://www.bubucuo.cn/hua-bg.png\",\"style\":{\"position\":\"absolute\",\"top\":4720.784313725484,\"left\":-15.980392156862697,\"width\":778.0392156862742,\"height\":1003.5294117647054,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.676929504558925},{\"value\":\"https://www.bubucuo.cn/board.png\",\"style\":{\"position\":\"absolute\",\"top\":4816.862745098029,\"left\":-72.84313725490286,\"width\":887.843137254904,\"height\":942.7450980392174,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.4540222257611084},{\"value\":\"\",\"style\":{\"position\":\"absolute\",\"top\":733.3333333333333,\"left\":39.6666666666664,\"width\":653.6666666666672,\"height\":1201.333333333333,\"borderRadius\":\"20%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"blue\",\"transform\":0,\"backgroundColor\":\"#ffffff\"},\"type\":3,\"key\":0.9898443005171125},{\"key\":0.46365164238209244,\"value\":\"https://www.bubucuo.cn/bg1.png\",\"style\":{\"position\":\"absolute\",\"top\":58,\"left\":2,\"width\":753,\"height\":625,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2},{\"key\":0.9084638260168219,\"value\":\"https://www.bubucuo.cn/lock.png\",\"style\":{\"position\":\"absolute\",\"top\":557,\"left\":-10.5,\"width\":747,\"height\":299,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2},{\"key\":0.6433404952915975,\"value\":\"最硬核的React课程\",\"style\":{\"position\":\"absolute\",\"top\":681,\"left\":131,\"width\":488,\"height\":66,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"68px\",\"fontSize\":51,\"fontWeight\":\"bold\",\"color\":\"#664955\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"center\"},\"type\":1},{\"value\":\"1. 低代码基础\\n2. 项目搭建\\n3. 状态管理\\n4. 往页面动态添加组件\\n5. 拖拽移动组件\\n6. 改变组件大小\\n7. 添加图片组件\\n8. 编辑画布区域\\n9. 编辑组件\\n10. 组件的旋转\\n11. 撤销与回退\\n12. 组件层级\\n13. 记录模板\\n14. 组件的复制与删除\\n15. 权限逻辑\\n16. 性能优化\\n17. 代码配置功能\\n更多功能...\\nn. 发版\\n\\n注：此课程代码包含两个项目：生成器template与编辑器builder，目前都在github，详情可以微信咨询。\\n\\n其他：本项目几乎没有使用第三方库，都是手动实现，可以帮助大家夯实基础。\\n\\n\",\"style\":{\"position\":\"absolute\",\"top\":787.0000000000027,\"left\":119.83333333333383,\"width\":518.3333333333323,\"height\":1108,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"42px\",\"fontSize\":26,\"fontWeight\":\"bold\",\"color\":\"#000\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.9107798699721636},{\"value\":\"https://www.bubucuo.cn/yellow-star.png\",\"style\":{\"position\":\"absolute\",\"top\":1172,\"left\":61.5,\"width\":43,\"height\":48,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.3836135008998969},{\"value\":\"https://www.bubucuo.cn/bg2.png\",\"style\":{\"position\":\"absolute\",\"top\":3434.663967611355,\"left\":73.96356275303599,\"width\":556.9595141700344,\"height\":480.3643724696306,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.18766413398805404},{\"value\":\"\\n1. 早鸟价，内容含量超级丰富。\\n\\n2. 现课程处于第一版，可享促销价。\\n\\n3. 优惠名额满员后，价格会上浮。\",\"style\":{\"position\":\"absolute\",\"top\":5115.960784313718,\"left\":86.72549019607834,\"width\":646.5490196078433,\"height\":370.156862745098,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"50px\",\"fontSize\":36,\"fontWeight\":\"bold\",\"color\":\"rgba(74,74,74,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.2160005901319011},{\"value\":\"https://www.bubucuo.cn/sale.png\",\"style\":{\"position\":\"absolute\",\"top\":4828.66666666667,\"left\":218.29411764705904,\"width\":311.4509803921576,\"height\":335.4117647058831,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":-20},\"type\":2,\"key\":0.32411482791557633},{\"value\":\"课程学习地址\",\"style\":{\"position\":\"absolute\",\"top\":5778.058823529408,\"left\":40.27450980392156,\"width\":482,\"height\":98,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"78px\",\"fontSize\":70,\"fontWeight\":\"bold\",\"color\":\"rgba(255,255,255,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.9555105693081396},{\"value\":\"\",\"style\":{\"position\":\"absolute\",\"top\":6024.4313725490165,\"left\":27.83333333333303,\"width\":694.3333333333339,\"height\":662.0000000000005,\"borderRadius\":\"10%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"blue\",\"transform\":0,\"backgroundColor\":\"rgba(255,236,178,1)\"},\"type\":3,\"key\":0.841741071137005},{\"value\":\"购买须知\\n1. 该课程为付费系列课程，按课程计划   \\n    定期更新，现第一版已更新90%。\\n2. 该课程为虚拟内容服务，购买成功后        无法退款，敬请谅解。\\n3. 如有疑问，可先查看试听课视频。\",\"style\":{\"position\":\"absolute\",\"top\":6108.666666666662,\"left\":54.21568627450961,\"width\":641.5686274509808,\"height\":590,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"78px\",\"fontSize\":36,\"fontWeight\":\"bold\",\"color\":\"rgba(74,74,74,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.09661138720208329},{\"value\":\"https://www.bubucuo.cn/star.png\",\"style\":{\"position\":\"absolute\",\"top\":3246,\"left\":612.5,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.17652411077488717},{\"value\":\"https://www.bubucuo.cn/technoiogy.png\",\"style\":{\"position\":\"absolute\",\"top\":252,\"left\":114.5,\"width\":460,\"height\":336,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.30901181821023216},{\"value\":\"https://www.bubucuo.cn/title.png\",\"style\":{\"position\":\"absolute\",\"top\":100,\"left\":-15.5,\"width\":781,\"height\":186,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":-13},\"type\":2,\"key\":0.9529657285829101},{\"value\":\"https://www.bubucuo.cn/paper_plane.png\",\"style\":{\"position\":\"absolute\",\"top\":0,\"left\":0,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.2999399392821902},{\"value\":\"https://www.bubucuo.cn/paper_plane.png\",\"style\":{\"position\":\"absolute\",\"top\":782,\"left\":548,\"width\":206,\"height\":207,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":-9},\"type\":2,\"key\":0.7582888736605065},{\"value\":\"https://www.bubucuo.cn/fire_bird.png\",\"style\":{\"position\":\"absolute\",\"top\":563,\"left\":35,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.49049376849027926},{\"value\":\"https://www.bubucuo.cn/pink_flower.png\",\"style\":{\"position\":\"absolute\",\"top\":1228,\"left\":682,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.13344426988402303},{\"value\":\"https://www.bubucuo.cn/red_flower.png\",\"style\":{\"position\":\"absolute\",\"top\":1848,\"left\":66.5,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":-4},\"type\":2,\"key\":0.8178218824492909},{\"value\":\"https://www.bubucuo.cn/OMG.png\",\"style\":{\"position\":\"absolute\",\"top\":1845,\"left\":534.5,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.02099549312365956},{\"value\":\"https://www.bubucuo.cn/rainbow1.png\",\"style\":{\"position\":\"absolute\",\"top\":1951.8039215686276,\"left\":-58.90196078431373,\"width\":867.8039215686287,\"height\":933.921568627452,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.31328135923908973},{\"value\":\"https://www.bubucuo.cn/rainbow.png\",\"style\":{\"position\":\"absolute\",\"top\":1939.8627450980403,\"left\":310.7352941176472,\"width\":478,\"height\":523,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":-1},\"type\":2,\"key\":0.02757815382886175},{\"value\":\"代码演示地址\",\"style\":{\"position\":\"absolute\",\"top\":2271.843137254904,\"left\":252.11764705882354,\"width\":255,\"height\":73.64705882352938,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"55px\",\"fontSize\":40,\"fontWeight\":\"bold\",\"color\":\"rgba(240,229,34,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"center\"},\"type\":1,\"key\":0.06736097806391661},{\"value\":\"扫描上面二维码，可跳转本项目在b站的演示视频，\\n或者直接在b站搜“前端bubucuo”，\\n查看《从0到1开发可视化拖拽H5编辑器(React)》。\",\"style\":{\"position\":\"absolute\",\"top\":2589.450980392159,\"left\":113.61764705882342,\"width\":522.7647058823532,\"height\":141.9803921568627,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"30px\",\"fontSize\":20,\"fontWeight\":\"bold\",\"color\":\"rgba(245,2,2,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"center\"},\"type\":1,\"key\":0.3205450179714402},{\"value\":\"https://www.bubucuo.cn/pink_ball.png\",\"style\":{\"position\":\"absolute\",\"top\":2983.0769230769247,\"left\":22.141779788838676,\"width\":705.7164404223226,\"height\":719.3665158371064,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.021370837837130452},{\"value\":\"https://www.bubucuo.cn/icon.png\",\"style\":{\"position\":\"absolute\",\"top\":2660.615384615385,\"left\":128,\"width\":494,\"height\":520,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.7003986706163967},{\"value\":\"涵盖了React以及React周边热门库的\\n手写源码，是手写，是手写！！！\\n\",\"style\":{\"position\":\"absolute\",\"top\":3180.3076923077024,\"left\":-0.3333333333342239,\"width\":750.6666666666684,\"height\":111.33333333333334,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"56px\",\"fontSize\":32,\"fontWeight\":\"bold\",\"color\":\"rgba(255,239,0,1)\",\"backgroundColor\":\"rgba(255,0,0,0)\",\"textAlign\":\"center\"},\"type\":1,\"key\":0.4289638279024992},{\"value\":\"学习方式：图 + 文 + 视频 + 学习群。\\n\\n学习成果：精通React，暴力手写、暴力读 \\n                        源码，让别人都说不过你。\",\"style\":{\"position\":\"absolute\",\"top\":3353.692307692313,\"left\":79.66666666666578,\"width\":620.6666666666684,\"height\":259,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"56px\",\"fontSize\":32,\"fontWeight\":\"bold\",\"color\":\"rgba(255,239,0,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.5266737136463195},{\"value\":\"https://www.bubucuo.cn/cloud.png\",\"style\":{\"position\":\"absolute\",\"top\":3742.3529411764694,\"left\":112.26244343891423,\"width\":572.3076923076923,\"height\":518.4615384615388,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.23036043118606697},{\"value\":\"主讲老师\",\"style\":{\"position\":\"absolute\",\"top\":3939.23529411764,\"left\":244.07843137254903,\"width\":262,\"height\":78,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"66px\",\"fontSize\":60,\"fontWeight\":\"bold\",\"color\":\"rgba(235,60,92,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"center\"},\"type\":1,\"key\":0.9129426673590202},{\"value\":\"https://www.bubucuo.cn/39c32b1693ca603b95a0c10622d72a27.png\",\"style\":{\"position\":\"absolute\",\"top\":4016.862745098034,\"left\":-89.50980392156853,\"width\":927.0588235294135,\"height\":866.2745098039227,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.6025099095082334},{\"value\":\"https://www.bubucuo.cn/star1.png\",\"style\":{\"position\":\"absolute\",\"top\":4248.235294117642,\"left\":165.3921568627451,\"width\":554.5098039215688,\"height\":552.549019607842,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.7657455675094329},{\"value\":\"    高少云\\n    github账号：bubucuo\\n    b站账号：前端bubucuo\\n  \\n    \",\"style\":{\"position\":\"absolute\",\"top\":4140.758513931884,\"left\":152.1155830753354,\"width\":570.078431372549,\"height\":164.62745098039204,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"56px\",\"fontSize\":30,\"fontWeight\":\"bold\",\"color\":\"rgba(74,74,74,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.3429095438855245},{\"value\":\"React Contributor\\n8年一线大厂开发经验，涵盖3年编程讲课经验。\\n《React工程师修炼指南》作者之一，编写了\\nReact原理与源码、项目实战章节。\",\"style\":{\"position\":\"absolute\",\"top\":4326.902992776056,\"left\":125.75232198142402,\"width\":650,\"height\":224,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"56px\",\"fontSize\":26,\"fontWeight\":\"bold\",\"color\":\"rgba(74,74,74,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.6054431870537871},{\"value\":\"如果你还不熟悉我，可关注公众号“bubucuo”，查看我的以往技术视频和文章，或者添加我的微信了解详情。\",\"style\":{\"position\":\"absolute\",\"top\":4557.125902992771,\"left\":64.58823529411785,\"width\":634.6666666666679,\"height\":112.67079463364277,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0,\"lineHeight\":\"56px\",\"fontSize\":26,\"fontWeight\":\"bold\",\"color\":\"rgba(74,74,74,1)\",\"backgroundColor\":\"#ffffff00\",\"textAlign\":\"left\"},\"type\":1,\"key\":0.6609359313845731},{\"value\":\"https://www.bubucuo.cn/flower.png\",\"style\":{\"position\":\"absolute\",\"top\":4662.803921568628,\"left\":81.07843137254902,\"width\":80,\"height\":80,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.5959843143856347},{\"value\":\"https://www.bubucuo.cn/lowcode-buy.webp\",\"style\":{\"position\":\"absolute\",\"top\":5707.058823529409,\"left\":497.7450980392157,\"width\":211.37254901960782,\"height\":203.5294117647058,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.1237743826901394},{\"value\":\"https://www.bubucuo.cn/wx.webp\",\"style\":{\"position\":\"absolute\",\"top\":4665.058823529412,\"left\":521.3529411764706,\"width\":193.37254901960776,\"height\":192.98039215686276,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.2995609037256024},{\"value\":\"https://www.bubucuo.cn/lowcode-show.png\",\"style\":{\"position\":\"absolute\",\"top\":2361.960784313727,\"left\":264.4117647058823,\"width\":211.37254901960765,\"height\":195.68627450980375,\"borderRadius\":\"0%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"#ffffff00\",\"transform\":0},\"type\":2,\"key\":0.19512598352644628},{\"value\":\"\",\"style\":{\"position\":\"absolute\",\"top\":4349.315789473685,\"left\":92.15789473684222,\"width\":14.736842105263166,\"height\":16.05263157894735,\"borderRadius\":\"50%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"blue\",\"transform\":0,\"backgroundColor\":\"rgba(239,154,154,1)\"},\"type\":3,\"key\":0.5994642658304201},{\"value\":\"\",\"style\":{\"position\":\"absolute\",\"top\":4405.315789473685,\"left\":93.15789473684222,\"width\":14.736842105263166,\"height\":16.05263157894735,\"borderRadius\":\"50%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"blue\",\"transform\":0,\"backgroundColor\":\"rgba(239,154,154,1)\"},\"type\":3,\"key\":0.9538282783423297},{\"value\":\"\",\"style\":{\"position\":\"absolute\",\"top\":4459.315789473685,\"left\":95.15789473684222,\"width\":14.736842105263166,\"height\":16.05263157894735,\"borderRadius\":\"50%\",\"borderStyle\":\"none\",\"borderWidth\":\"0\",\"borderColor\":\"blue\",\"transform\":0,\"backgroundColor\":\"rgba(239,154,154,1)\"},\"type\":3,\"key\":0.9056738067927337}],\"key\":0,\"desc\":\"《精通React》\",\"img\":\"https://www.bubucuo.cn/react-head.png\"}"

import {useCanvasByContext} from "src/store/hooks";
import classNames from "classnames";
import styles from "./index.less";
import {saveCanvas} from "src/request/canvas";
import {useCanvasId} from "src/store/hooks";
import {useNavigate} from "react-router-dom";
import {Link} from "react-router-dom";

export default function Header() {
  const canvas = useCanvasByContext();

  const navigate = useNavigate();

  const id = useCanvasId();

  const save = () => {
    const data = canvas.getCanvas();

    console.log(
      "%c [  ]-25",
      "font-size:13px; background:pink; color:#bf2c9f;",
      data
    );
    saveCanvas(
      {
        id,
        content: JSON.stringify(data),
        // title: data.title,
        type: "template",
      },
      (res: any) => {
        alert("保存成功");
        if (id == null) {
          navigate("?id=" + res.id);
        }
      }
    );
  };

  const emptyCanvas = () => {
    canvas.setCanvas(null);
  };

  const goPrevCanvasHistory = () => {
    canvas.goPrevCanvasHistory();
  };

  const goNextCanvasHistory = () => {
    canvas.goNextCanvasHistory();
  };

  return (
    <div className={styles.main}>
      <div className={classNames(styles.item)}>
        <Link to="/">首页</Link>
      </div>

      <div className={classNames(styles.item)} onClick={save}>
        <span
          className={classNames("iconfont icon-baocun", styles.icon)}></span>
        <span className={styles.txt}>保存</span>
      </div>

      <div className={classNames(styles.item)} onClick={goPrevCanvasHistory}>
        <span
          className={classNames(
            "iconfont icon-chexiaofanhuichehuishangyibu",
            styles.icon
          )}></span>
        <span className={styles.txt}>上一步</span>
      </div>

      <div className={classNames(styles.item)} onClick={goNextCanvasHistory}>
        <span
          className={classNames(
            "iconfont icon-chexiaofanhuichehuishangyibu",
            styles.icon
          )}
          style={{transform: `rotateY{180}deg`}}></span>
        <span className={styles.txt}>下一步</span>
      </div>

      <div className={classNames(styles.item)} onClick={emptyCanvas}>
        <span
          className={classNames("iconfont icon-qingkong", styles.icon)}></span>
        <span className={styles.txt}>清空</span>
      </div>

      {/* <div className={classNames(styles.item)} onClick={save}>
        <span className={classNames("iconfont icon-fabu", styles.icon)}></span>
        <span className={styles.txt}>发布</span>
      </div> */}
    </div>
  );
}
